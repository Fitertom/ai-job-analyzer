<!doctype html>
<html lang="ru">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>JP Complex</title>
  <link rel="stylesheet" href="popup.css" />
</head>

<body>
  <!-- ‚îÄ‚îÄ‚îÄ Top bar ‚îÄ‚îÄ‚îÄ -->
  <header class="topbar">
    <h1 class="logo">JP Complex</h1>
    <div class="topbar-right">
      <label class="toggle" title="–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å API">
        <input type="checkbox" id="apiToggle" />
        <span class="toggle-slider"></span>
        <span class="toggle-label">API</span>
      </label>
      <button id="settingsBtn" class="icon-btn" title="–ù–∞—Å—Ç—Ä–æ–π–∫–∏">‚öô</button>
    </div>
  </header>

  <!-- ‚îÄ‚îÄ‚îÄ Settings modal ‚îÄ‚îÄ‚îÄ -->
  <div id="settingsModal" class="modal hidden">
    <div class="modal-backdrop"></div>
    <div class="modal-content">
      <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h2>
      <label class="field-label">API –∫–ª—é—á</label>
      <input type="text" id="apiKeyInput" class="field" placeholder="sk-..." />
      <label class="field-label">–†–µ–∑—é–º–µ</label>
      <textarea id="resumeInput" class="field textarea" rows="6" placeholder="–í—Å—Ç–∞–≤—å—Ç–µ —Ç–µ–∫—Å—Ç —Ä–µ–∑—é–º–µ..."></textarea>
      <label class="field-label">–°–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç (–ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–π)</label>
      <textarea id="systemPromptInput" class="field textarea" rows="4"
        placeholder="–¢—ã ‚Äî –æ–ø—ã—Ç–Ω—ã–π IT-—Ä–µ–∫—Ä—É—Ç–µ—Ä –≤ –ì–µ—Ä–º–∞–Ω–∏–∏..."></textarea>
      <div class="modal-actions">
        <button id="settingsSave" class="btn primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
        <button id="settingsCancel" class="btn ghost">–û—Ç–º–µ–Ω–∞</button>
      </div>
    </div>
  </div>

  <!-- ‚îÄ‚îÄ‚îÄ Tabs ‚îÄ‚îÄ‚îÄ -->
  <nav class="tabs">
    <button class="tab active" data-tab="tab1">üìã –ê–Ω–∫–µ—Ç—ã</button>
    <button class="tab" data-tab="tab2">üìÑ –í–∞–∫–∞–Ω—Å–∏—è</button>
    <button class="tab" data-tab="tab3" id="tab3btn">üìä –°–±–æ—Ä—â–∏–∫</button>
  </nav>

  <!-- ‚îÄ‚îÄ‚îÄ Tab 1: Parse search listings ‚îÄ‚îÄ‚îÄ -->
  <section id="tab1" class="panel active">
    <p class="hint" id="tab1HintCopy">–û—Ç–∫—Ä–æ–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø–æ–∏—Å–∫–∞ Indeed –∏ –Ω–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –¥–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è —Å–ø–∏—Å–∫–∞ –≤–∞–∫–∞–Ω—Å–∏–π.
    </p>
    <p class="hint hidden" id="tab1HintApi">–û—Ç–∫—Ä–æ–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø–æ–∏—Å–∫–∞ Indeed. AI —Ä–∞—Å—Å—á–∏—Ç–∞–µ—Ç —à–∞–Ω—Å –Ω–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–µ –ø–æ
      –≤–∞—à–µ–º—É —Ä–µ–∑—é–º–µ.</p>
    <button id="copyListBtn" class="btn primary full">–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤–∞–∫–∞–Ω—Å–∏–∏</button>
    <p id="tab1Status" class="status" role="status"></p>
    <div id="aiResponseWrap" class="debug-output hidden">
      <div class="debug-header">
        <span>–û—Ç–≤–µ—Ç AI</span>
        <button id="copyAiResponse" class="btn ghost btn-sm" title="–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å">üìã</button>
      </div>
      <pre id="aiResponseText" class="debug-text"></pre>
    </div>
    <details class="format-info" id="tab1Format">
      <summary>–§–æ—Ä–º–∞—Ç</summary>
      <pre>Title | Company | Location | Attributes | Link</pre>
    </details>
  </section>

  <!-- ‚îÄ‚îÄ‚îÄ Tab 2: Parse single vacancy ‚îÄ‚îÄ‚îÄ -->
  <section id="tab2" class="panel">
    <p id="tab2HintCopy" class="hint">–û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –≤–∞–∫–∞–Ω—Å–∏—é –Ω–∞ Indeed –∏ –Ω–∞–∂–º–∏—Ç–µ –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.</p>
    <p id="tab2HintApi" class="hint hidden">–û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞–∫–∞–Ω—Å–∏—é –Ω–∞ Indeed ‚Äî AI —Å–¥–µ–ª–∞–µ—Ç –ø–æ–¥—Ä–æ–±–Ω—ã–π –æ–±–∑–æ—Ä –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—é.</p>
    <button id="copyVacancyBtn" class="btn primary full">–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∏–Ω—Ñ–æ</button>
    <p id="tab2Status" class="status" role="status"></p>
    <div id="aiVacancyWrap" class="debug-output hidden">
      <div class="debug-header">
        <span>–û–±–∑–æ—Ä AI</span>
        <button id="copyAiVacancy" class="btn ghost btn-sm" title="–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å">üìã</button>
      </div>
      <pre id="aiVacancyText" class="debug-text"></pre>
    </div>
  </section>

  <!-- ‚îÄ‚îÄ‚îÄ Tab 3: Probability collector (only without API) ‚îÄ‚îÄ‚îÄ -->
  <section id="tab3" class="panel">
    <div class="collector-header">
      <span class="hint">–°–æ–±–∏—Ä–∞–µ—Ç —Ç–∞–±–ª–∏—Ü—ã –∏–∑ Gemini –ø—Ä–∏ –ø—Ä–æ–∫—Ä—É—Ç–∫–µ.</span>
      <span id="probCount" class="badge">0</span>
    </div>
    <div class="actions-grid">
      <button id="toggleAnalysis" class="btn accent">–í–∫–ª—é—á–∏—Ç—å</button>
      <button id="pickBtn" class="btn accent">–ü–∏–ø–µ—Ç–∫–∞</button>
      <button id="refreshBtn" class="btn accent">–û–±–Ω–æ–≤–∏—Ç—å</button>
      <button id="saveHtmlBtn" class="btn accent">HTML</button>
      <button id="saveJsonBtn" class="btn accent">JSON</button>
      <button id="clearBtn" class="btn danger">–û—á–∏—Å—Ç–∏—Ç—å</button>
    </div>
    <div id="tableWrap" class="table-wrap"></div>
    <p id="tab3Status" class="status" role="status"></p>
  </section>

  <script src="popup.js"></script>
</body>

</html>